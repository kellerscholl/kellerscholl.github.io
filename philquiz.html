<html>
  <head>
    <title>jQuery testing.</title>
    <link href="altstyle.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <script src="app/bower_components/jquery/dist/jquery.js"></script>
    <!-- <a href="http://jquery.com/">jQuery</a> -->
    <!-- Original code courtesy of http://jsfiddle.net/crmardix/zjWaj/ -->
    <div id="page" class="blockCenter">
    <div id="page_text"></div>
    <div id="response">
        </ul>
    </div>
    
    <script>
      var current_page = 0;
      $(document).ready(function () {
          load_page(0);
          $('#response').on('click', '.choice', function () {
              var target = $(this).data('target');
              load_page(target);
          });
      });

      function load_page(id) {
          // Fetch JSON for page data associated with given ID
          var page_data = PAGES[id];

          clear_page();
          set_page_text(page_data.text);
          if (page_data.type === 'choice') {
              for (var choice in page_data.choices) {
                  var choice_data = page_data.choices[choice];
                  add_choice(choice_data.text, choice_data.target);
              }
          }
      }

      function set_page_text(text) {
          $("#page_text").append("<p>" + text + "</p>");
      }

      function add_choice(text, target) {
          $("#response").append("<button class=choice data-target=" + target + ">" + text + "</button>");
      }

      function clear_page() {
          $("#page_text").empty();
          $("#response").empty();
      }

      // Page data
      var PAGES = [{'text': 'This is a philosophical quiz, designed to help you understand what you believe. Contrary to popular perception, most disagreements in philosophy are not because one person is wrong and another right. Rather, they stem from people valuing different intuitions in their philosophical theories. Throughout this quiz, you will be asked about your intuitions, asked to give answers to philosophical problems. The back button does not work, I am sad to say: you will have to answer each question as you go. If you have an answer to a question that you think is outside the range of what I have listed, please submit it to the feedback form available at keller.scholl@gmail.com. Happy discovering!',
              'type': 'choice',
              'choices': [{
              'text': 'I want to understand.',
                  'target': 1
          }]
      },
      {
          'text': 'What do you wish to discover your views on?',
              'type': 'choice',
              'choices': [{
              'text': 'I want to understand what is, and what is not',
                  'target': 2
          }, {
              'text': 'I want to understand what I believe and why I should believe it.',
                  'target': 3
          }, {
              'text': 'I want to understand what I think I should do.',
                  'target': 4
          }]
      }, {
          'text': 'Ah, metaphysics? Fascinating!',
              'type': 'choice',
              'choices': [{
              'text': 'Actually, that sounds boring, please let me ask again.',
                  'target': 1
          }]
      }, {
          'text': 'Ah, epistemology?',
              'type': 'choice',
              'choices': [{
              'text': 'Yes. Ask me that again.',
                  'target': 1
          }]
      }, {
          'text': 'Ethics, then?',
              'type': 'choice',
              'choices': [{
              'text': 'Yes. Ask me that again.',
                  'target': 1
          }]
      }];
    </script>
  </body>
  <a href="khs.github.io">Home</a>
</html>
